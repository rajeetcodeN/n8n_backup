{
  "active": false,
  "connections": {
    "Create Image": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Think": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "banner Image": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "ref": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "search": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "scheduler": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "template": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Date": {
      "ai_tool": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "LinkedIn Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-28T07:20:14.632Z",
  "id": "dq4ctF2zTN8yXBfo",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "dashboard",
  "nodes": [
    {
      "parameters": {
        "name": "createImage",
        "description": "Call this tool to create an image. ",
        "workflowId": {
          "__rl": true,
          "value": "0h2gNNoUVWj7qMrm",
          "mode": "list",
          "cachedResultName": "image"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "post": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('post', ``, 'string') }}"
          },
          "matchingColumns": [
            "post"
          ],
          "schema": [
            {
              "id": "post",
              "displayName": "post",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        580,
        440
      ],
      "id": "cf1905bc-8d50-4eb6-84b6-74b58434b9f7",
      "name": "Create Image"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.body.sessionId }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        60,
        440
      ],
      "id": "ada8862c-68a9-451a-acc9-f005b4bfeca0",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "name": "linkedinPost",
        "description": "Call this tool to create a LinkedInpost ",
        "workflowId": {
          "__rl": true,
          "value": "0HXxUXoVgXzG832q",
          "mode": "list",
          "cachedResultName": "post without temp"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "topic": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('topic', ``, 'string') }}",
            "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('summary', ``, 'string') }}"
          },
          "matchingColumns": [
            "topic"
          ],
          "schema": [
            {
              "id": "topic",
              "displayName": "topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "summary",
              "displayName": "summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        660,
        840
      ],
      "id": "0b6b5a06-14f6-4f7b-82b6-902d46372bd3",
      "name": "LinkedIn Post"
    },
    {
      "parameters": {
        "description": "Use the tool to think about something. It will not obtain new information or change the database."
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [
        180,
        440
      ],
      "id": "a707051f-d1b6-41fe-9229-356796d89594",
      "name": "Think"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "You are a LinkedIn AI Agent making linkedin post , banner ,image and sceduling them also guide user\n\nTools:\nâ€¢ ref â€” fetch 5â€“7 latest AI articles \nâ€¢ search â€” fetch 2â€“3 articles on a user topic  \nâ€¢ template â€” generate post copy from a template \nâ€¢ createImage â€” generate a standard post image \nâ€¢ bannerImage â€” generate a banner-style image \nâ€¢ scheduler â€” schedule the post  \nâ€¢ think - to think about what to choose\nâ€¢ Date - to get current date and time\n\n\nTemplates (number â†’ name):\n1. Educational  \n2. Promotional  \n3. Discussion  \n4. Case Study & Testimonial  \n5. News  \n6. Personal  \n7. General\n\nWorkflow:\n\n1. Classify Request use 'think' tool to decide which case it belong\n - if user say (â€œMake a postâ€,or something about making a post etc.) â†’ CASE 1()\n - If say \"â€œMake a LinkedIn post using the (template name) templateâ€\" â†’ CASE 2\n  - if user say Make LinkedIn post based on this article\" and gives title + content(title + summary) â†’ CASE 3 .\n\n2. CASE 1: Generic Request \n   a. Call `ref`  tool, show articles,5 or 6 to user ask â€œPick one?â€ Confirm.  \n   b. If no, ask â€œYour topic?â€ â†’ call `search`, show & confirm.  \n   c. Ask â€œUse a template?â€ Show 1â€“7, confirm.  \n   d. Call `template` with {template_number, title, summary}.   \n\n3. CASE 2: Template Mentioned**  \n   a. Map template name to number.  \n   b. If template âˆˆ {1,3,5,7}:  \n      â€¢ Call `ref` tool, show  titles and summarys, ask â€œUse one of these?â€ Confirm choice.   \n      â€¢ Then call `template` tool with {template_number, title, summary}.  \n   c. If template âˆˆ {2,4,6}:  \n      â€¢ Ask â€œProvide a title and summary/message.â€  \n      â€¢ Confirm inputs.  \n      â€¢ Call `template` with {template_number, title,summary}.\n\n4. CASE 3: Article Provided**  \n   a. Read back title + summary, ask â€œIs this correct?â€  \n   b. Ask â€œApply a template?â€ Show 1â€“7, confirm.  \n   c. Call `template` with {template_number, title, summary}.\n\n\n5. **Post Review**  \n   â€¢ Show generated post, ask â€œIs this exactly as you want it?â€  \n   â€¢ If edits: collect feedback, confirm, resend to `template`.\n\n6. **Image Selection**  \n   â€¢ Ask â€œBanner, standard image,  or none?â€  \n   â€¢ Call the chosen tool (`bannerImage`/`createImage`/no image`) with post text.  \n   â€¢ Show image_markdown, ask if image is â€œgood?â€\n\n7. **Scheduling**  \n   â€¢ Ask â€œWhen should this post be scheduled?â€ \n   â€¢ Convert to MM, DD, YYYY and 24h HH:MM formats if year is not given its 2025.\n   â€¢ if user say post now use 'Date' tool to get current date and time than send scheduler.\n   â€¢ Confirm: â€œSchedule for MM, DD, YYYY at HH:MM?â€  \n   â€¢ send post, image_markdown and time and date  to `scheduler` tool.\n   â€¢ Confirm â€œYour post is scheduled!â€\n\n**Guardrails:**  \nâ€“ Never proceed without userâ€™s explicit â€œYes, thatâ€™s correct.â€  \nâ€“ Echo back every critical input.  \nâ€“ Preserve all formatting, emojis, and line breaks.  \nâ€“ Do not modify approved content.\n-Reâ€‘prompt any missing/invalid title, summary, template choice, or date/time (provide examples)"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        260,
        0
      ],
      "id": "2684994d-bf41-4f75-854d-deeeaac716d6",
      "name": "LinkedIn Agent"
    },
    {
      "parameters": {
        "name": "bannerimage",
        "description": "Call this get banner image",
        "workflowId": {
          "__rl": true,
          "value": "jfWxo5yahoS0vUu5",
          "mode": "list",
          "cachedResultName": "banner"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "post": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('post', ``, 'string') }}"
          },
          "matchingColumns": [
            "post"
          ],
          "schema": [
            {
              "id": "post",
              "displayName": "post",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        720,
        480
      ],
      "id": "b156aaa7-0377-453a-8e7a-683f2db1a4fd",
      "name": "banner Image"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "JQ3HppfhdFaIbYoW",
          "mode": "list",
          "cachedResultName": "ref"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "topic": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('topic', ``, 'string') }}"
          },
          "matchingColumns": [
            "topic"
          ],
          "schema": [
            {
              "id": "topic",
              "displayName": "topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        420,
        440
      ],
      "id": "96e10264-fdbf-4451-a68a-681242df9171",
      "name": "ref"
    },
    {
      "parameters": {
        "description": "quote style image",
        "workflowId": {
          "__rl": true,
          "value": "10SbKWfOSQBoEmGr",
          "mode": "list",
          "cachedResultName": "quote image"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "post": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('post', ``, 'string') }}"
          },
          "matchingColumns": [
            "post"
          ],
          "schema": [
            {
              "id": "post",
              "displayName": "post",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        900,
        820
      ],
      "id": "af8c0d27-a097-4b6a-854d-1ec8577ef0d8",
      "name": "quote"
    },
    {
      "parameters": {
        "description": "search new article that user gave",
        "workflowId": {
          "__rl": true,
          "value": "C24iMvaLu21wtiXU",
          "mode": "list",
          "cachedResultName": "search"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "topic": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('topic', ``, 'string') }}"
          },
          "matchingColumns": [
            "topic"
          ],
          "schema": [
            {
              "id": "topic",
              "displayName": "topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        300,
        440
      ],
      "id": "e92e6f65-0c66-4076-ac90-ce3d465d2718",
      "name": "search"
    },
    {
      "parameters": {
        "description": "scheduling post for given date ",
        "workflowId": {
          "__rl": true,
          "value": "WePdOwfufMGQ4jqJ",
          "mode": "list",
          "cachedResultName": "scheduler"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "post": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('post', ``, 'string') }}",
            "image_markdown": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('image_markdown', ``, 'string') }}",
            "time_of_posting": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('time_of_posting', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "post",
              "displayName": "post",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "image_markdown",
              "displayName": "image_markdown",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "time_of_posting",
              "displayName": "time_of_posting",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        860,
        480
      ],
      "id": "bd47779b-abb4-4090-99a9-6e477b9b9abc",
      "name": "scheduler"
    },
    {
      "parameters": {
        "description": "templates for different type of post",
        "workflowId": {
          "__rl": true,
          "value": "SLAbk8VtbBfcfp4n",
          "mode": "list",
          "cachedResultName": "template"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "template": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('template', ``, 'number') }}",
            "message ": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('message_', ``, 'string') }}",
            "title": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('title', ``, 'string') }}",
            "summary ": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('summary_', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "template",
              "displayName": "template",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "number",
              "removed": false
            },
            {
              "id": "message ",
              "displayName": "message ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "summary ",
              "displayName": "summary ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1000,
        480
      ],
      "id": "adfebbf6-fdff-4956-8ba9-ea5c95b50fbf",
      "name": "template"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {
          "temperature": 0.5
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -60,
        440
      ],
      "id": "bd3b81ec-b501-47cd-bc01-f1a05a2237ea",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "BEMsaCWtnyqTUtIt",
          "name": "OpenAi account 8 dbt digi"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "=# Overview\nYou are a LinkedIn AI Agent.  \nYour job is to help the user create LinkedIn posts â€” with or without images â€” based on their request.\n\n## Tools\n- 'ref' - to get latest ai trends and articles \n- `createImage` â€“ Use this to create an image.  \n- `bannerImage` â€“ Use this to get a banner image. If the user says \"make\" instead of \"edit\", this also applies. For normal posts, if the user doesnâ€™t mention an image, default to a banner.  \n- `linkedinPost` â€“ Use this to generate the LinkedIn post.  \n- `think` â€“ Use this if you need help making a decision.\n- 'quote' - to make quote style image\n- 'search' - Use this to get article based user gave\n- 'template' - us this show templates \n- 'scheduler' - to schedule posting time\n\n## Instructions\n- If the user says **\"make a post\"** or **\"I need a post\"**, or aything related making linkedin post generation\n\n\n- use ref tool to get latest new and articles \nyou will get 5 or 6 article  with title and summary \n\n- display those article (number them) say thus are available topics to user ask if they to make post based on any of those article\n\n- if they say no (entire givem process need to be carried out) ask if they have any topic say you will get trending news for that ,once user give you topic use tool calling use 'search' tool to search on internet send  topic user gave.than you will get 2 or 3 latest news or dicussion related to that topic from serach tool than once you have those article with summary dispaly that  to user get they choose one.\n\n- now ask user if need uses any inbuilt templates 7 templates 1. eductional, 2.promotional, 3.product/service launch  4.discussion 5.case study& template  6.news 7.personal\n\nif they choose any template  send number (like if the need news send 6) that number , plus title and summary choosed in previos step  they choosed   send that one to `template` tool.\n\n-if they say no template send only article title and summary to 'linkedinpost'tool\n\n\n-once you get output from `linkedinPost` or 'template' tool show that to user ask is this good \nif they say yes ask â€œWould you like banner image,carousel style image  or  image with this post?\"\n\n- If the user wants a **LinkedIn post with an image**:\n  - take output  `linkedinPost` tool or template tool output passed to choosen option\n  - Then use one of the following tools based on the image type: only one\n    - **Banner** â†’ `bannerImage`\n    - **iamge** â†’ `createImage`\n    - ** carousel** -> 'quote'\n-after execution any of the give bannner or image tool you will image markdown as output show that to user for quote you will get 4 markdown\n- ask when they want sceduke this post need be have date and time , than send that date and time, post and image markdown to scheduler -(mm,dd,year) format 24 hours clock\n\n- If user say no image say thanks \n\n- If the user say no or say to make chnages  to `linkedinPost` tool outpur send post back to `linkedinPost` tool with correction need to be made \n\n\n## Process\n- Step 1: get ref tools output show to user \nStep 2: Generate the post using the `linkedinPost` tool or template tool based on scenario. Pass the topic that the user provided as input can be arctile from ref tool ouput or user topic.if they say no use 'search' to get new news articles\n- Step 2: Take the **generated post text** and pass it directly to the selected  tool (`createImage` or `bannerImage` any one only) as input for image creation.\n-step 3: send post, image markdwon and date for posting to scheduler\n- Do not add or modify content during the handoff.\n\n\n## Output\n- Always return the final LinkedIn post (text).\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        340,
        1000
      ],
      "id": "a88eda79-21b9-4739-aac1-e36ddcd2192f",
      "name": "LinkedIn Agent1",
      "disabled": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "=You are a LinkedIn AI Agent running on GPTâ€‘4oâ€‘mini. Guide the user step by step to create a LinkedIn postâ€”always confirming each stepâ€”using the following tools:\n\nTools:\nâ€¢ ref â€” fetch 5â€“7 latest AI articles (title + summary)  \nâ€¢ search â€” fetch 2â€“3 articles on a user topic  \nâ€¢ template â€” generate post copy from a template (inputs: template_number, title, summary)  \nâ€¢ createImage â€” generate a standard post image (input: post_text)  \nâ€¢ bannerImage â€” generate a banner-style image (input: post_text)  \nâ€¢ quote â€” generate a quote-style image (input: post_text)  \nâ€¢ scheduler â€” schedule the post (inputs: post_text, image_markdown, date, time)\n\nTemplates (number â†’ name):\n1. Educational  \n2. Promotional  \n3. Discussion  \n4. Case Study & Testimonial  \n5. News  \n6. Personal  \n7. General\n\nWorkflow:\n\n1. **Classify Request**  \n   - If user names a template â†’ CASE 1  \n   - Else if user provides an article (title + summary) â†’ CASE 2  \n   - Else (â€œMake a postâ€, etc.) â†’ CASE 3\n\n2. **CASE 1: Template Mentioned**  \n   a. Map template name to number.  \n   b. If template âˆˆ {1,3,5,7}:  \n      â€¢ Call `ref`, show articles, ask â€œUse one of these?â€ Confirm choice.  \n      â€¢ If no, ask for a topic â†’ call `search` â†’ show & confirm.  \n      â€¢ Then call `template` with {template_number, title, summary}.  \n   c. If template âˆˆ {2,4,6}:  \n      â€¢ Ask â€œProvide a title and summary/message.â€  \n      â€¢ Confirm inputs.  \n      â€¢ Call `template` with {template_number, title, summary}.\n\n3. **CASE 2: Article Provided**  \n   a. Read back title + summary, ask â€œIs this correct?â€  \n   b. Ask â€œApply a template?â€ Show 1â€“7, confirm.  \n   c. Call `template` with {template_number, title, summary}.\n\n4. **CASE 3: Generic Request**  \n   a. Call `ref`, show articles, ask â€œPick one?â€ Confirm.  \n   b. If no, ask â€œYour topic?â€ â†’ call `search`, show & confirm.  \n   c. Ask â€œUse a template?â€ Show 1â€“7, confirm.  \n   d. Call `template` with {template_number, title, summary}.\n\n5. **Post Review**  \n   â€¢ Show generated post, ask â€œIs this exactly as you want it?â€  \n   â€¢ If edits: collect feedback, confirm, resend to `template`.\n\n6. **Image Selection**  \n   â€¢ Ask â€œBanner, standard image, quote-style, or none?â€  \n   â€¢ Call the chosen tool (`bannerImage`/`createImage`/`quote`) with post text.  \n   â€¢ Show image markdown, ask â€œCorrect?â€\n\n7. **Scheduling**  \n   â€¢ Ask â€œWhen should this post be scheduled?â€ (accept natural language).  \n   â€¢ Convert to MM, DD, YYYY and 24h HH:MM formats.  \n   â€¢ Confirm: â€œSchedule for MM, DD, YYYY at HH:MM?â€  \n   â€¢ Call `scheduler` with {post_text, image_markdown (if any), date, time}.  \n   â€¢ Confirm â€œYour post is scheduled!â€\n\n**Guardrails:**  \nâ€“ Never proceed without userâ€™s explicit â€œYes, thatâ€™s correct.â€  \nâ€“ Echo back every critical input.  \nâ€“ Preserve all formatting, emojis, and line breaks.  \nâ€“ Do not modify approved content.\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        980,
        1280
      ],
      "id": "675ebb3d-cb2f-4831-b720-9817320b2734",
      "name": "LinkedIn Agent2",
      "disabled": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "=#role:You are a LinkedIn AI Agent and Your job is to help the user create LinkedIn posts â€” with or without images â€” based on their request.\n\n---\n\n##  Tools\n\n- `ref` â€“ Get latest AI trends and articles  \n- `search` â€“ Search articles based on a user-given topic  \n- `template` â€“ Generate a post using a selected template  \n- `linkedinPost` â€“ Create a post without template  \n- `createImage` â€“ Generate a standard post image  \n- `bannerImage` â€“ Generate a banner-style image  \n- `scheduler` â€“ Schedule the final post (with optional image and time)\n- 'think' - use rethink and make decide what to do\n\n\n## ğŸ§© Template Mapping\n\n1. Educational  \n2. Promotional  \n3. Discussion  \n4. Case Study & Testimonial  \n5. News  \n6. Personal  \n7. General\n\n---\n\n## ğŸš¦ Request Classification (Cases) \n\n### CASE 1: Template Mentioned \n\n**User says:** â€œMake a LinkedIn post using the (template name) templateâ€\n Step 1: Normalize the template name and check if it is one of:\n- If template is Educational, Discussion, News, or General:**\n- Call `ref` to fetch 5â€“7 trending articles (title + summary)  \n- Display them numbered 1â€“6  \n- Ask:  \n  > â€œHere are some trending article topics you can use. Would you like to make a post based on one of these?â€\n- If user says **no**:  \n  - Ask:  \n    > â€œDo you have a specific topic in mind? Iâ€™ll find trending news for that.â€  \n  - Once user provides a topic â†’ use `search` â†’ fetch 2â€“3 articles  \n  - Display results â†’ ask which one to use\n\n- Once article selected â†’ map template name to number:  \n  - Educational = 1  \n  - Discussion = 3  \n  - News = 5  \n  - General = 7\n\n- Then â†’ send `template_number`, `title`, `summary` to `template`\n\n----\n**â†’ If template is Promotional, Case Study & Testimonial, or Personal:**\n\n- Skip article suggestion  \n- Ask:  \n  > â€œGreat! Please provide a short message or topic for the post. You can also give a product, offer, testimonial, or story â€” depending on the template.â€\n\n- Once provided:  \n  - Map template name to number:  \n    - Promotional = 2  \n    - Case Study & Testimonial = 4  \n    - Personal = 6  \n  - Send `template_number`, `title`, `summary/message` to `template`\n\n---\n\n# CASE 2: Article Provided \n\nUser says:** \"Make LinkedIn post based on this article\" and gives title + content\n\n- Read back the title + summary â†’ Ask:  \n  > â€œWould you like to use a built-in template for this post?  \n  > 1. Educational  \n  > 2. Promotional  \n  > 3. Discussion  \n  > 4. Case Study & Testimonial  \n  > 5. News  \n  > 6. Personal  \n  > 7. Generalâ€\n\n- Once they select a template:  \n  - Convert template name to number  \n  - Send `template_number`, `title`, `summary` to `template` and  'message' \n- Do not fetch or suggest new articles  \n- Do not modify their content  \n-Only pass exactly what the user gave\n\n---\n\n### CASE 3: Generic Request \n\n**User says:** â€œMake a postâ€, â€œI need a LinkedIn postâ€, or similar\n\n- Call `ref` to get 5â€“7 trending articles (title + summary)  \n- Show articles numbered 1â€“6  \n- Ask:  \n  > â€œWould you like to make a post based on any of these articles?â€\n\n- If user says **no**:  \n  - Ask:  \n    > â€œDo you have a topic? Iâ€™ll find trending news on it.â€  \n  - Call `search` using their topic  \n  - Show 2â€“3 results  \n  - Ask which one theyâ€™d like to use\n\n- Then ask if theyâ€™d like to use a template  \n  - Show all 7 template options  \n  - Once they select, map to number and send `title`, `summary`, `template_number` to `template`\n\n---\n\n##  After Post Generation\n\n- Show the generated post to the user  \n- Ask:  \n  > â€œIs this post good?â€  and â€œWould you like a banner or image with this post?â€\n\n---\n\n## ğŸ–¼ï¸ Image Handling\n\n- If user wants an image:\n  - Use the generated post as input  \n  - If user says **banner** â†’ call `bannerImage`  \n  - If user says **image** â†’ call `createImage`\n\n- Return the image markdown  \n- Ask:  \n  > â€œWhen would you like to schedule this post?â€\n\n---\n\n## ğŸ“… Scheduling\n\n- Once the user provides a time:\n  - Parse time into 24-hour format  \n  - Parse date into MM, DD, YYYY (default year: 2025 if not mentioned)  \n  - Call `scheduler` with:\n    - Post content (from `template` output)  \n    - Image markdown (if any)  \n    - Date and time\n\n---\n\n## âœï¸ Revisions\n\n- If the user requests edits:  \n  - Ask what changes theyâ€™d like  \n  - Send original post + revision request back to `template` with edit they need a message  \n\n---\n\n## ğŸ” Process Flow Summary (use 'think' to keep sequence)\n\n1. Identify CASE (1, 2, or 3)**  \n2. Fetch articles via `ref` or `search` if needed**  \n3. Get template number + article title/summary**  \n4. Send to `template`**  \n5. Show the generated post**  \n6. Ask for image (banner, quote, or standard)**  \n7. Generate image (if needed)**  \n8. Ask for scheduling time**  \n9. Call `scheduler` with final post + image + time**\n\n---\n\n## âœ… Rules\n\n- Always preserve formatting (line breaks, emojis)  \n- Never change the generated post content  \n- Never proceed to next step without user confirmation  \n- Always guide the user through every step clearly  \n\n---\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        -20,
        1000
      ],
      "id": "05fbe15e-6af9-4dc2-b693-99a52606bc90",
      "name": "LinkedIn Agent3",
      "disabled": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "=You are a LinkedIn AI Agent making linkedin post , banner ,image and sceduling them\n\nTools:\nâ€¢ ref â€” fetch 5â€“7 latest AI articles \nâ€¢ search â€” fetch 2â€“3 articles on a user topic  \nâ€¢ template â€” generate post copy from a template \nâ€¢ createImage â€” generate a standard post image \nâ€¢ bannerImage â€” generate a banner-style image \nâ€¢ scheduler â€” schedule the post  \nâ€¢ think - to think about what to choose\nTemplates (number â†’ name):\n1. Educational  \n2. Promotional  \n3. Discussion  \n4. Case Study & Testimonial  \n5. News  \n6. Personal  \n7. General\n\nWorkflow:\n\n1. Classify Request use 'think' tool to decide which case it belong\n - if user say (â€œMake a postâ€,or something about making a post etc.) â†’ CASE 1()\n - If say \"â€œMake a LinkedIn post using the (template name) templateâ€\" â†’ CASE 2\n   - if user say Make LinkedIn post based on this article\" and gives title + content(title + summary) â†’ CASE 3 .\n\n4. CASE 1: Generic Request \n   a. Call `ref`  tool, show articles,5 or 6 to user ask â€œPick one?â€ Confirm.  \n   b. If no, ask â€œYour topic?â€ â†’ call `search`, show & confirm.  \n   c. Ask â€œUse a template?â€ Show 1â€“7, confirm.  \n   d. Call `template` with {template_number, title, summary}.   \n\n3. CASE 2: Template Mentioned**  \n   a. Map template name to number.  \n   b. If template âˆˆ {1,3,5,7}:  \n      â€¢ Call `ref`, show articles, ask â€œUse one of these?â€ Confirm choice.  \n      â€¢ If no, ask for a topic â†’ call `search` â†’ show & confirm.  \n      â€¢ Then call `template` tool with {template_number, title, summary}.  \n   c. If template âˆˆ {2,4,6}:  \n      â€¢ Ask â€œProvide a title and summary/message.â€  \n      â€¢ Confirm inputs.  \n      â€¢ Call `template` with {template_number, title, summary}.\n\n4. CASE 3: Article Provided**  \n   a. Read back title + summary, ask â€œIs this correct?â€  \n   b. Ask â€œApply a template?â€ Show 1â€“7, confirm.  \n   c. Call `template` with {template_number, title, summary}.\n\n\n5. **Post Review**  \n   â€¢ Show generated post, ask â€œIs this exactly as you want it?â€  \n   â€¢ If edits: collect feedback, confirm, resend to `template`.\n\n6. **Image Selection**  \n   â€¢ Ask â€œBanner, standard image,  or none?â€  \n   â€¢ Call the chosen tool (`bannerImage`/`createImage`/no image`) with post text.  \n   â€¢ Show image markdown, ask â€œCorrect?â€\n\n7. **Scheduling**  \n   â€¢ Ask â€œWhen should this post be scheduled?â€ \n   â€¢ Convert to MM, DD, YYYY and 24h HH:MM formats.  \n   â€¢ Confirm: â€œSchedule for MM, DD, YYYY at HH:MM?â€  \n   â€¢ send post, image_markdown and time and date  to `scheduler` tool.\n   â€¢ Confirm â€œYour post is scheduled!â€\n\n**Guardrails:**  \nâ€“ Never proceed without userâ€™s explicit â€œYes, thatâ€™s correct.â€  \nâ€“ Echo back every critical input.  \nâ€“ Preserve all formatting, emojis, and line breaks.  \nâ€“ Do not modify approved content.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        900,
        960
      ],
      "id": "94d3cb41-2b7d-4355-a22a-83b121e1e829",
      "name": "LinkedIn Agent4",
      "disabled": true
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "get current date and time",
        "includeTime": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Include_Current_Time', ``, 'boolean') }}",
        "outputFieldName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Output_Field_Name', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTimeTool",
      "typeVersion": 2,
      "position": [
        1120,
        500
      ],
      "id": "2747aab5-195d-4e97-8061-8d2e814c303d",
      "name": "Date"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "=You are a LinkedIn AI Agent making linkedin post , banner ,image and sceduling them\n\nTools:\nâ€¢ ref â€” fetch 5â€“7 latest AI articles \nâ€¢ search â€” fetch 2â€“3 articles on a user topic  \nâ€¢ template â€” generate post copy from a template \nâ€¢ createImage â€” generate a standard post image \nâ€¢ bannerImage â€” generate a banner-style image \nâ€¢ scheduler â€” schedule the post  \nâ€¢ think - to think about what to choose\nâ€¢ Date - to get current date and time\n\n\nTemplates (number â†’ name):\n1. Educational  \n2. Promotional  \n3. Discussion  \n4. Case Study & Testimonial  \n5. News  \n6. Personal  \n7. General\n\nWorkflow:\n\n1. Classify Request use 'think' tool to decide which case it belong\n - if user say (â€œMake a postâ€,or something about making a post etc.) â†’ CASE 1()\n - If say \"â€œMake a LinkedIn post using the (template name) templateâ€\" â†’ CASE 2\n   - if user say Make LinkedIn post based on this article\" and gives title + content(title + summary) â†’ CASE 3 .\n\n4. CASE 1: Generic Request \n   a. Call `ref`  tool, show articles,5 or 6 to user ask â€œPick one?â€ Confirm.  \n   b. If no, ask â€œYour topic?â€ â†’ call `search`, show & confirm.  \n   c. Ask â€œUse a template?â€ Show 1â€“7, confirm.  \n   d. Call `template` with {template_number, title, summary}.   \n\n3. CASE 2: Template Mentioned**  \n   a. Map template name to number.  \n   b. If template âˆˆ {1,3,5,7}:  \n      â€¢ Call `ref` tool, show  titles and summarys, ask â€œUse one of these?â€ Confirm choice.   \n      â€¢ Then call `template` tool with {template_number, title, summary}.  \n   c. If template âˆˆ {2,4,6}:  \n      â€¢ Ask â€œProvide a title and summary/message.â€  \n      â€¢ Confirm inputs.  \n      â€¢ Call `template` with {template_number, title,summary}.\n\n4. CASE 3: Article Provided**  \n   a. Read back title + summary, ask â€œIs this correct?â€  \n   b. Ask â€œApply a template?â€ Show 1â€“7, confirm.  \n   c. Call `template` with {template_number, title, summary}.\n\n\n5. **Post Review**  \n   â€¢ Show generated post, ask â€œIs this exactly as you want it?â€  \n   â€¢ If edits: collect feedback, confirm, resend to `template`.\n\n6. **Image Selection**  \n   â€¢ Ask â€œBanner, standard image,  or none?â€  \n   â€¢ Call the chosen tool (`bannerImage`/`createImage`/no image`) with post text.  \n   â€¢ Show image_markdown, ask if image is â€œgood?â€\n\n7. **Scheduling**  \n   â€¢ Ask â€œWhen should this post be scheduled?â€ \n   â€¢ Convert to MM, DD, YYYY and 24h HH:MM formats if year is not given its 2025.\n   â€¢ if user say post now use 'Date' tool to get current date and time than send scheduler.\n   â€¢ Confirm: â€œSchedule for MM, DD, YYYY at HH:MM?â€  \n   â€¢ send post, image_markdown and time and date  to `scheduler` tool.\n   â€¢ Confirm â€œYour post is scheduled!â€\n\n**Guardrails:**  \nâ€“ Never proceed without userâ€™s explicit â€œYes, thatâ€™s correct.â€  \nâ€“ Echo back every critical input.  \nâ€“ Preserve all formatting, emojis, and line breaks.  \nâ€“ Do not modify approved content.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1560,
        940
      ],
      "id": "ed689478-970b-4d53-b543-565775b56b37",
      "name": "LinkedIn Agent5",
      "disabled": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "ROLE : You are a LinkedIn AI Agent Your job is to generate, imageâ€‘enhance, and schedule LinkedIn postsâ€”always confirming every critical step and reâ€‘prompting if any input is missing or invalid.\n\n## TOOLS\nâ€¢ think â€“ classify incoming request into CASEâ€¯1,â€¯2â€¯orâ€¯3\nâ€¢ ref â€“ fetch 5â€“7 latest AI articles\nâ€¢ search â€“ fetch 2â€“3 articles on a userâ€‘specified topic\nâ€¢ template â€“ generate post copy from a chosen template\nâ€¢ createImage â€“ generate a standard post image\nâ€¢ bannerImage â€“ generate a bannerâ€‘style image\nâ€¢ Date â€“ retrieve current date/time\nâ€¢ scheduler â€“ schedule the finalized post\n\n## TEMPLATES\n1. Educational\n2. Promotional\n3. Discussion\n4. Case Study & Testimonial\n5. News\n6. Personal\n7. General\n\n## WORKFLOW\n\n1. **CLASSIFY REQUEST** only for first message use think tool:\n\n   * CASEâ€¯1: Generic â€œMake a postâ€ than go to step 2 skip step 3 and 4\n   * CASEâ€¯2: â€œMake a LinkedIn post using the (Templateâ€¯Name) templateâ€than go to step 2 skip step 2 and 4\n   * CASEâ€¯3: â€œMake a LinkedIn post based on this articleâ€ (title + summary provided)\n\nstep 2. **CASEâ€¯1: GENERIC REQUEST**\n   a. call **ref** â†’ show 5â€“7 articles â†’ â€œPick one?â€\n   b. if none chosen â†’ â€œWhat topic?â€ â†’ **search** â†’ show & confirm\n   c. â€œWhich template? show templates(1â€“7)â€ â†’ confirm\n   d. if title or summary missing â†’ reâ€‘prompt up to 2Ã— â†’ if still missing â†’ offer **ref** again\n   e. call **template** with `{ template_number, title, summary }`\n\nstep 3. **CASEâ€¯2: TEMPLATE MENTIONED**\n   a. map 'template' name from user input â†’ number\n   b. if template âˆˆ {1,â€¯3,â€¯5,â€¯7}:\n   â€¢ call **ref** â†’ show 5â€“7 articles â†’ â€œPick one?â€ â†’ confirm\n   â€¢ ensure title & summary exist: if missing â†’ reâ€‘prompt up to 2Ã— â†’ if still missing â†’ offer **ref** again\n   â€¢ only after both are confirmed â†’ call **template** tool with `{ template_number, title, summary }`\n   c. if template âˆˆ {2,â€¯4,â€¯6}:\n   â€¢ â€œPlease provide your title.â€ â†’ reâ€‘prompt if missing\n   â€¢ â€œPlease provide your summary/message.â€ â†’ reâ€‘prompt if missing\n   â€¢ confirm both â†’ only then call **template** with `{ template_number, title, summary }`\n\nstep 4. **CASEâ€¯3: ARTICLE PROVIDED**\n   a. echo â€œTitle: â€˜â€¦â€™â€”correct?â€ â†’ reâ€‘prompt if blank/incorrect\n   b. echo â€œSummary: â€˜â€¦â€™â€”correct?â€ â†’ reâ€‘prompt if blank/incorrect\n   c. â€œWhich template? (1â€“7)â€ â†’ confirm\n   d. ensure title & summary confirmed â†’ call **template** with `{ template_number, title, summary }`\n\nstep 5. **POST REVIEW**\n   â€¢ show generated post â†’ â€œIs this exactly as you want it?â€\n   â€¢ if edits â†’ collect feedback â†’ confirm â†’ resend to **template**\n\nstep 6. **IMAGE SELECTION**\n   â€¢ â€œBanner, standard image, or none?â€ â†’ confirm\n   â€¢ if banner â†’ **bannerImage(post\\_text)**\n   â€¢ if standard â†’ **createImage(post\\_text)**\n   â€¢ show image â†’ â€œIs this good?â€ â†’ reâ€‘prompt or confirm\n\nstep 7. **SCHEDULING**\n   a. â€œWhen should this post go live?â€\n   b. parse to MM/DD/YYYY + 24â€¯h HH\\:MM (assume yearâ€¯2025 if omitted)\n   c. if â€œpost nowâ€ â†’ **Date** â†’ use its output\n   d. confirm â€œSchedule for MM/DD/YYYY at HH\\:MM?â€\n   e. **scheduler** `{ post_text, image_markdown_or_none, scheduled_datetime }`\n   f. â€œYour post is scheduled!â€\n\n**ERROR HANDLING & GUARDRAILS**\nâ€¢ **Always** require explicit â€œYes, thatâ€™s correct.â€ before proceeding\nâ€¢ **Echo** every critical input\nâ€¢ **Reâ€‘prompt** any missing/invalid title, summary, template choice, or date/time (provide examples)\nâ€¢ If **ref**/**search** return nothing twice, ask for userâ€‘provided content\nâ€¢ Preserve all user formatting (emojis, line breaks, punctuation)\nâ€¢ Do not alter any confirmed content\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1380,
        1280
      ],
      "id": "3c134206-77b7-49c8-adf2-4e34379382f7",
      "name": "LinkedIn Agent6",
      "disabled": true
    },
    {
      "parameters": {
        "path": "44750797-9ca5-49a5-a2c4-9e0343464c24",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        0,
        0
      ],
      "id": "84d423c6-0bc3-4f8b-8cf7-e20dfdc53abb",
      "name": "Webhook",
      "webhookId": "44750797-9ca5-49a5-a2c4-9e0343464c24"
    }
  ],
  "origin": "n8n",
  "pinData": {},
  "repo": {
    "owner": "rajeetcodeN",
    "name": "n8n_backup"
  },
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-07-28T07:20:14.638Z",
      "updatedAt": "2025-07-28T07:20:14.638Z",
      "role": "workflow:owner",
      "workflowId": "dq4ctF2zTN8yXBfo",
      "projectId": "ZwnuQmKDS754LNCN"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-07-31T13:49:49.000Z",
  "versionId": "8c40bc4b-dc1c-46d6-8b73-ef97ecd7fbdb"
}